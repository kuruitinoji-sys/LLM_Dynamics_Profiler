# 第15章：情報の質量とキャパシティ：文脈密度と参照限界

本章では、第14章で導入した「文脈質量 $m$」の内訳を詳細に解析する。質量とは単なるトークン数（Volume）ではなく、モデルがその情報をどれだけ構造的に把持（Grip）できているかを示す「有効質量」である。この定義により、RAG（検索拡張生成）における情報の「死荷重化」や、ロングコンテキストにおける「注意散漫」といった現象を物理的に説明する。

## 15.1 有効質量の構成方程式

文脈質量 $m$ は、以下の要素の積として定義される。

$$m = V \times \rho \times G$$

1. **体積** $V$ **(Volume)**:
    
    物理的に入力されたトークン総数（プロンプト長 + RAG参照量）。
    
2. **構造化密度** $\rho$ **(Structure Density)**:
    
    情報の中に含まれる論理的結合（因果関係、含意、参照）の密度。
    
    - **高密度**: 学術論文、コード、論理パズル（$\rho \approx 1$）。
        
    - **低密度**: 羅列されたデータ、構造のないログ、支離滅裂な文章（$\rho \approx 0$）。
        
3. **把持率** $G$ **(Grip Rate)**:
    
    モデルのAttention機構が、その情報をどれだけ有効に「掴んでいる」かの割合（$0 \le G \le 1$）。
    

## 15.2 把持率 $G$ とモデルキャパシティ

把持率 $G$ は、モデル固有のキャパシティ（注意容量）と、入力体積 $V$ の関係で決まる非線形関数である。

$$G(V) \approx \frac{1}{1 + (V / V_{\text{limit}})^k}$$

- $V_{\text{limit}}$ **(把持限界)**: モデルが構造を維持したまま扱える実質的なトークン限界。公称スペック（例：128kトークン）とは異なり、論理的推論が破綻しない「有効限界」を指す。
    
- **現象**: $V$ が限界を超えると、$G$ は急激に低下する。
    
    - **Lost in the Middle**: 文脈の中間部分に対するAttentionが希薄になり、質量としてカウントされなくなる現象。
        

## 15.3 RAGにおける「死荷重（Dead Weight）」問題

RAGを用いて大量のドキュメントを参照させた場合、見かけ上の体積 $V$ は増大するが、有効質量 $m$ が増えるとは限らない。

### 15.3.1 構造化なき膨張

RAGで取得したチャンク（断片）が互いに論理的に接続されていない場合、構造化密度 $\rho$ は極めて低くなる。

$$m_{\text{RAG}} = V_{\text{huge}} \times \rho_{\text{low}} \times G(V_{\text{huge}}) \approx \text{Small}$$

結果として、大量のデータを読ませても「賢く（重く）」ならず、単にノイズ（抵抗）が増えるだけの**「死荷重」**となる。

### 15.3.2 質量の希釈

死荷重が増えると、本来重要だったプロンプト（指示）の相対的なAttention比重が下がり、指示が無視される「指令の希釈」が発生する。

## 15.4 質量制御の実践：高密度化（Densification）

有効質量 $m$ を最大化し、強い慣性（一貫性）を持たせるための戦略。

1. **構造化要約**:
    
    単に短くするのではなく、論理構造（$\rho$）を保ったまま体積（$V$）を減らす。
    
    - 生ログ 100行 ($\rho=0.1, V=100 \to m=10$)
        
    - 要約 10行 ($\rho=1.0, V=10 \to m=10$)
        
        質量は同じだが、モデルの把持率 $G$ は要約の方が圧倒的に高いため、実効的な制御力は増す。
        
2. **チェイン・オブ・ソート (CoT)**:
    
    推論ステップを明示的に記述させることで、一時的に $V$ を増やしつつ、それ以上のペースで密度 $\rho$ と把持率 $G$ を高め、強力な慣性モーメントを生成する。
    

## 15.5 結論：重さをデザインする

情報の質量とは、文字数ではなく**「意味の結合エネルギー」**の総量である。

- **学習データ**: モデルの「筋肉（基礎体力）」。$V_{\text{limit}}$ を決定する。
    
- **RAG/入力**: モデルが持ち上げる「荷物」。
    
- **制御**: 荷物を、筋肉が最も効率よく力を発揮できる形（高密度・適量）にパッキングする技術。
    

「たくさん読ませれば賢くなる」という幻想を捨て、**「モデルがグリップできる形に情報を圧縮する」**ことこそが、質量制御の神髄である。